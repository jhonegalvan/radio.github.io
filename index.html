<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
  <meta name="theme-color" content="#08298a">
  <title>LIKE</title>
  
  <!-- PWA manifest -->
  <link rel="manifest" href="https://jhonegalvan.github.io/radio.github.io/manifest.json">
  
  <!-- iOS meta tags & icons -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="LIKE">
  <link rel="apple-touch-icon" href="https://jhonegalvan.github.io/radio.github.io/icons/icon-152x152.png">
  
  <!-- CSS -->
  <link href="https://i0001.clarodrive.com/s/gKZKpjynyiAfRo6/download" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
  
  <style>
    html,body{font-family:"Open Sans",sans-serif;height:100%;margin:0;display:flex;flex-direction:column;color:#272829;}
    #installContainer {
      position: fixed;
      bottom: 1em;
      right: 1em;
      z-index: 1000;
    }
    #installButton {
      background: #08298a;
      color: white;
      border: none;
      padding: 0.5em 1em;
      border-radius: 4px;
      cursor: pointer;
    }
  </style>
</head>

<body>
  <div style="height:100%">
    <header id="header">
      <nav class="nav-menu">
        <ul></ul>
      </nav>
    </header>

    <div id="player"></div>
    
    <div id="installContainer" style="display: none;">
      <button id="installButton">Instalar LIKE Radio</button>
    </div>
  </div>

  <!-- Scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <script src="https://i0001.clarodrive.com/s/pmqaf478t5cdwSf/download"></script>
  
  <script>
    $("#player").lunaradio({
      userinterface: "big", 
      backgroundcolor: "rgba(9,15,25,0.8)",
      fontcolor: "#ffffff",
      hightlightcolor: "#000000", 
      fontname: "Saira Condensed", 
      googlefont: "Saira+Condensed:wght@100", 
      fontratio: "0.4", 
      radioname: "Like", 
      scroll: "true", 
      coverimage: "https://i0001.clarodrive.com/s/b945FksDjqj4PR4/download",
      onlycoverimage: "false",
      coverstyle: "animated",
      usevisualizer: "real", 
      visualizertype: "2", 
      itunestoken: "1000lIPN", 
      metadatatechnic: "https://i0001.clarodrive.com/s/tPsXiyQJ934Q2rp/download",
      corsproxy: "",
      usestreamcorsproxy: "false",
      streamurl: "https://stream.zeno.fm/eccwblcjp3wuv",
      streamtype: "zeno",
      idzeno: "eccwblcjp3wuv",
      icecastmountpoint: "", 
      shoutcastpath: "",
      shoutcastid: "1", 
      metadatainterval: "26000", 
      volume: "100",
      debug: "false",
      autoplay: "true",
      displayliveicon: "true",
      visualizeropacity: "1.0",
      multicolorvisualizer: "true",
      color1: "#FF26FF",
      color2: "#8301FF",
      color3: "#FF1F6F",
      color4: "#FF1F6F",
    });

    $(".mobile-nav-toggle").click(function(){
      $("body").toggleClass("mobile-nav-active");
      $(".mobile-nav-toggle i").toggleClass("fa-bars fa-times");
    });

    // PWA installation prompt
    let deferredPrompt;
    const installButton = document.getElementById('installButton');
    const installContainer = document.getElementById('installContainer');

    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
      installContainer.style.display = 'block';
    });

    installButton.addEventListener('click', async () => {
      if (deferredPrompt) {
        deferredPrompt.prompt();
        const { outcome } = await deferredPrompt.userChoice;
        if (outcome === 'accepted') {
          installContainer.style.display = 'none';
        }
        deferredPrompt = null;
      }
    });

    // Register Service Worker
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js')
          .then(registration => {
            console.log('ServiceWorker registration successful');
          })
          .catch(err => {
            console.log('ServiceWorker registration failed: ', err);
          });
      });
    }
  </script>
</body>
</html>
